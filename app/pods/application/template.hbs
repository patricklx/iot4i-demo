<div class="{{styleNamespace}} main">
  <button aria-label="Toggle Side Navigation" class="side-nav__toggle-btn side-nav__toggle-btn{{if leftSideBarOpen '' '--closed'}}" onclick={{action toggleProperty 'leftSideBarOpen'}}>
    <div>
      <span class="line"></span>
      <span class="line"></span>
      <span class="line"></span>
    </div>
  </button>
  <nav role="navigation" aria-label="Page Navigation" aria-expanded="true" class="side-nav {{if leftSideBarOpen '' 'side-nav__closed side-nav__closed--final'}}">
    <div class="side-nav__top-container">
      <a id="skip-to-content" href="#maincontent" class="skip-to-content">Skip to main content</a>
      <a class="side-nav__logo" href="/">IOT4I <span>Home Insights</span></a>
      <div class="bx--search bx--search--sm" role="search">
        <svg class="bx--search-magnifier" width="16" height="16" viewBox="0 0 16 16"><path d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zm4.936-1.27l4.563 4.557-.707.708-4.563-4.558a6.5 6.5 0 1 1 .707-.707z" fill-rule="nonzero"></path></svg><input type="text" aria-label="Search" class="bx--search-input" placeholder="Search"><svg class="bx--search-close bx--search-close--hidden" width="16" height="16" viewBox="0 0 16 16" fill-rule="evenodd"><path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm3.5 10.1l-1.4 1.4L8 9.4l-2.1 2.1-1.4-1.4L6.6 8 4.5 5.9l1.4-1.4L8 6.6l2.1-2.1 1.4 1.4L9.4 8l2.1 2.1z"></path></svg>
      </div>
    </div>
    <div class="global-search">
      <div class="global-search__results">
        <div class="global-search__results--section global-search__results--section--hidden">
          <h4 class="global-search__sub-heading page__divider-heading">Results</h4>
        </div>
        <div class="global-search__results--section global-search__results--section--hidden">
          <h4 class="global-search__sub-heading">Results</h4>
        </div>
      </div>
    </div>
    <div role="menu" class="side-nav__bottom-container">
      <ul class="side-nav__main-nav">
        {{#each menuItems as |menu menuIndex|}}
          {{#if menu.submenus}}
            <li onclick={{action toggleProperty (concat menu.title '-expanded')}} role="menuitem" tabindex="{{menuIndex}}" class="main-nav-item {{if (eq currentMenu menu) 'main-nav-item__active'}} {{if (get this (concat menu.title '-expanded')) 'main-nav-item__open'}}">
              <p class="main-nav-item__heading main-nav-item__list">
                <BxIcon @icon="{{menu.icon}}" />
                {{menu.title}}
                <svg class="main-nav-item__arrow" fill-rule="evenodd" height="5" name="caret--down" role="img" viewBox="0 0 10 5" width="10" aria-hidden="true" alt="Menu arrow icon" aria-label="Menu arrow icon">
                  <title>Menu arrow icon</title><path d="M0 0l5 4.998L10 0z"></path>
                </svg>
              </p>
                {{#liquid-if (get this (concat menu.title '-expanded'))}}
                  <ul role="menu" aria-label="{{menu.title}} sub menu" aria-hidden="true" class="main-nav__sub-nav">
                    {{#each menu.submenus as |submenu|}}
                      <li role="menuitem" class="sub-nav__item {{if (eq currentMenu submenu) 'selected'}}" tabindex="-1">
                        <a class="sub-nav__item-link" aria-label="{{submenu.title}}" tabindex="-1" onclick={{action 'transitionTo' submenu.routeName}}>
                          <BxIcon @icon="{{submenu.icon}}" />
                          {{submenu.title}}
                        </a>
                      </li>
                    {{/each}}
                  </ul>
                {{/liquid-if}}
            </li>
          {{else}}
            <li role="menuitem" tabindex="{{menuIndex}}" class="main-nav-item {{if (eq currentMenu menu) 'main-nav-item__active'}}">
              <a aria-label="{{menu.title}}" tabindex="-1" class="main-nav-item__heading" onclick={{action 'transitionTo' menu.routeName}}>
                <BxIcon @icon="{{menu.icon}}" />
                {{menu.title}}
              </a>
            </li>
          {{/if}}
        {{/each}}
      </ul>
    </div>
  </nav>

  <div class="container {{if leftSideBarOpen '' 'container--expanded'}}">
    <div class="page-header">
      <h4 class="page-header__label">{{if currentSubMenu.title currentMenu.title currentSubMenu.title}}</h4>
      <h1 id="page-title" class="page-header__title">{{if currentSubMenu.title currentSubMenu.title currentMenu.title}}</h1>
      <Paper-Toolbar-Tools>

        <span class="flex"></span>

        <Paper-Button @iconButton=true>
          <Paper-Menu as |menu|>
            <menu.trigger>
              <Paper-Icon @icon="account circle"/>
            </menu.trigger>
            <menu.content @width=4 as |content|>
              <content.menu-item @onClick={{action 'logout'}} >
                Logout
              </content.menu-item>
            </menu.content>
          </Paper-Menu>
        </Paper-Button>

      </Paper-Toolbar-Tools>
    </div>
      <div class="main-content">
        {{outlet}}
      </div>
      <Paper-Toaster/>
  </div>
</div>